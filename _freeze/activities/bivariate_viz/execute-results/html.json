{
  "hash": "bf37abda6122f10c257a28a16c930a11",
  "result": {
    "markdown": "---\ntitle: \"Bivariate Viz\"\nnumber-sections: true\nexecute: \n  warning: false\nfig-height: 2.75\nfig-width: 4.25\nfig-env: 'figure'\nfig-pos: 'h'\nfig-align: center\ncode-fold: false\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggplot2)\nlibrary(dplyr)\n```\n:::\n\n\n\n## Exercise 0: {.unnumbered} \n\n::: {.cell}\n\n```{.r .cell-code}\n# Load data\nelections <- read.csv(\"https://mac-stat.github.io/data/election_2020_county.csv\")\n\n# Check it out\nhead(elections)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  state_name state_abbr historical    county_name county_fips total_votes_20\n1    Alabama         AL        red Autauga County        1001          27770\n2    Alabama         AL        red Baldwin County        1003         109679\n3    Alabama         AL        red Barbour County        1005          10518\n4    Alabama         AL        red    Bibb County        1007           9595\n5    Alabama         AL        red  Blount County        1009          27588\n6    Alabama         AL        red Bullock County        1011           4613\n  repub_pct_20 dem_pct_20 winner_20 total_votes_16 repub_pct_16 dem_pct_16\n1        71.44      27.02     repub          24661        73.44      23.96\n2        76.17      22.41     repub          94090        77.35      19.57\n3        53.45      45.79     repub          10390        52.27      46.66\n4        78.43      20.70     repub           8748        76.97      21.42\n5        89.57       9.57     repub          25384        89.85       8.47\n6        24.84      74.70       dem           4701        24.23      75.09\n  winner_16 total_votes_12 repub_pct_12 dem_pct_12 winner_12 total_population\n1     repub          23909        72.63      26.58     repub            54907\n2     repub          84988        77.39      21.57     repub           187114\n3     repub          11459        48.34      51.25       dem            27321\n4     repub           8391        73.07      26.22     repub            22754\n5     repub          23980        86.49      12.35     repub            57623\n6       dem           5318        23.51      76.31       dem            10746\n  percent_white percent_black percent_asian percent_hispanic per_capita_income\n1            76            18             1                2             24571\n2            83             9             1                4             26766\n3            46            46             0                5             16829\n4            75            22             0                2             17427\n5            88             1             0                8             20730\n6            22            71             0                6             18628\n  median_rent median_age\n1         668       37.5\n2         693       41.5\n3         382       38.3\n4         351       39.4\n5         403       39.6\n6         276       39.6\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(elections, aes(x=winner_20))+\n  geom_bar()\n```\n\n::: {.cell-output-display}\n![](bivariate_viz_files/figure-html/unnamed-chunk-3-1.png){width=408}\n:::\n\n```{.r .cell-code}\nelections %>%\n  count(winner_20)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  winner_20    n\n1       dem  536\n2     repub 2573\n```\n:::\n:::\n\nThe republicans won about 82.8% of the counties. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(elections, aes(x=repub_pct_20))+\n  geom_histogram()\n```\n\n::: {.cell-output-display}\n![](bivariate_viz_files/figure-html/unnamed-chunk-4-1.png){width=408}\n:::\n:::\n\nI don't understand the significance of this being negatively skewed. \n\n\n## Exercise 1: {.unnumbered} \n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(elections, aes(x=repub_pct_16, y=repub_pct_20))+ \n  geom_point()\n```\n\n::: {.cell-output-display}\n![](bivariate_viz_files/figure-html/unnamed-chunk-5-1.png){width=408}\n:::\n:::\n\n \n## Exercise 2: {.unnumbered} \n\n\n::: {.cell}\n\n```{.r .cell-code}\n# This shows the same plot as above in exercise 2, but with crosses. \nggplot(elections, aes(y = repub_pct_20, x = repub_pct_16)) +\n  geom_point(color = 'orange', shape=3)+\n  geom_text(aes(label = state_abbr))\n```\n\n::: {.cell-output-display}\n![](bivariate_viz_files/figure-html/unnamed-chunk-6-1.png){width=408}\n:::\n:::\n\n\n## Exercise 3: {.unnumbered} \n\nWith an increase in republican percentage in 2016, there is an increase in republican percentage in 2020. This relationship is very strong, and it is a positive relationship. A lot of counties in Texas seem to lie above the trend (positive residuals), which could be because they are more republican than the average state.\n\n\n## Exercise 4: {.unnumbered} : \n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(elections, aes(y = repub_pct_20, x = repub_pct_16)) +\n  geom_smooth()\n```\n\n::: {.cell-output-display}\n![](bivariate_viz_files/figure-html/unnamed-chunk-7-1.png){width=408}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(elections, aes(y = repub_pct_20, x = repub_pct_16)) +\n  geom_point() +\n  geom_smooth(method = \"lm\")\n```\n\n::: {.cell-output-display}\n![](bivariate_viz_files/figure-html/unnamed-chunk-8-1.png){width=408}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Scatterplot of repub_pct_20 vs median_rent\nggplot(elections, aes(x = median_rent, y = repub_pct_20)) +\n  geom_point() \n```\n\n::: {.cell-output-display}\n![](bivariate_viz_files/figure-html/unnamed-chunk-9-1.png){width=408}\n:::\n\n```{.r .cell-code}\n# Scatterplot of repub_pct_20 vs median_age\nggplot(elections, aes(x = median_age, y = repub_pct_20)) +\n  geom_point() \n```\n\n::: {.cell-output-display}\n![](bivariate_viz_files/figure-html/unnamed-chunk-9-2.png){width=408}\n:::\n:::\n\n\nMedian rent seems to explain repub_pct_20 better: as median rent rises, repub_pct_20 seems to fall, suggesting a moderate negative relationship. Median age does not seem to explain repub_pct_20 very well. \n\n## Exercise 6: {.unnumbered} \n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(elections, aes(y = repub_pct_20, x = historical)) +\n  geom_point()\n```\n\n::: {.cell-output-display}\n![](bivariate_viz_files/figure-html/unnamed-chunk-10-1.png){width=408}\n:::\n:::\n\nA scatterplot is very useful for 2 quantitative variables. Historical seems to be a categorical variable with 3 categories, so a boxplot would be a better idea. \n\n## Exercise 7: {.unnumbered} \n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(elections, aes(y = repub_pct_20, x = historical)) +\n  geom_violin()\n```\n\n::: {.cell-output-display}\n![](bivariate_viz_files/figure-html/unnamed-chunk-11-1.png){width=408}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(elections, aes(y = repub_pct_20, x = historical)) +\n  geom_boxplot()\n```\n\n::: {.cell-output-display}\n![](bivariate_viz_files/figure-html/unnamed-chunk-12-1.png){width=408}\n:::\n:::\n\nThis tells us that if a county was historically democrat, people voted less republican in 2020 than if the country was historically purple, which is less than if the county was historically red. \n\n## Exercise 8: {.unnumbered} \n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(elections, aes(x = repub_pct_20, fill=historical)) +\n  geom_density(alpha=0.5)\n```\n\n::: {.cell-output-display}\n![](bivariate_viz_files/figure-html/unnamed-chunk-13-1.png){width=408}\n:::\n:::\n\n\n\n## Exercise 9: {.unnumbered} : \n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Name two \"bad\" things about this plot\nggplot(elections, aes(x = repub_pct_20, fill = historical)) +\n  geom_density()\n```\n\n::: {.cell-output-display}\n![](bivariate_viz_files/figure-html/unnamed-chunk-14-1.png){width=408}\n:::\n:::\n\n1. It is opaque, so I can't see part of the data (for the green and red plots). \n2. The colors do not correspond to the colors they are representing (red is blue, blue is red)\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# What does scale_fill_manual do?\nggplot(elections, aes(x = repub_pct_20, fill = historical)) +\n  geom_density() +\n  scale_fill_manual(values = c(\"blue\", \"purple\", \"red\"))\n```\n\n::: {.cell-output-display}\n![](bivariate_viz_files/figure-html/unnamed-chunk-15-1.png){width=408}\n:::\n:::\n\nThis fixes the second issue with this! The colors correspond to the category they are representing. \n\n\n::: {.cell}\n\n```{.r .cell-code}\n# What does alpha = 0.5 do?\n# Play around with different values of alpha, between 0 and 1\nggplot(elections, aes(x = repub_pct_20, fill = historical)) +\n  geom_density(alpha = 0.5) +\n  scale_fill_manual(values = c(\"blue\", \"purple\", \"red\"))\n```\n\n::: {.cell-output-display}\n![](bivariate_viz_files/figure-html/unnamed-chunk-16-1.png){width=408}\n:::\n:::\n\nThis fixes the first issue I had with the plot! It increases its transparency. \n\n\n::: {.cell}\n\n```{.r .cell-code}\n# What does facet_wrap do?!\nggplot(elections, aes(x = repub_pct_20, fill = historical)) +\n  geom_density() +\n  scale_fill_manual(values = c(\"blue\", \"purple\", \"red\")) +\n  facet_wrap(~ historical)\n```\n\n::: {.cell-output-display}\n![](bivariate_viz_files/figure-html/unnamed-chunk-17-1.png){width=408}\n:::\n:::\n\nIt makes each of the categories into separate small graphs, while using the same axes. \n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Let's try a similar grouping strategy with a histogram instead of density plot.\n# Why is this terrible?\nggplot(elections, aes(x = repub_pct_20, fill = historical)) +\n  geom_histogram(color = \"white\") +\n  scale_fill_manual(values = c(\"blue\", \"purple\", \"red\"))\n```\n\n::: {.cell-output-display}\n![](bivariate_viz_files/figure-html/unnamed-chunk-18-1.png){width=408}\n:::\n:::\n\nThis uses a histogram, which is difficult to understand because there is so much information. \n\n## Exercise 10: {.unnumbered}  \n\n- Which do you like best?\nSide-by-side boxplots\n- What is one pro of density plots relative to boxplots?\nIt gives you a visual representation of how skewed the data is\n- What is one con of density plots relative to boxplots?\nIt does not give you any numerical summaries (IQR, median)\n\n## Exercise 11: {.unnumbered} \n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(elections, aes(x=historical, fill=winner_20))+\n  geom_bar()\n```\n\n::: {.cell-output-display}\n![](bivariate_viz_files/figure-html/unnamed-chunk-19-1.png){width=408}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(elections, aes(x=winner_20, fill=historical))+\n  geom_bar()+\n  scale_fill_manual(values = c(\"blue\", \"purple\", \"red\"))+\n  facet_wrap(~ historical)\n```\n\n::: {.cell-output-display}\n![](bivariate_viz_files/figure-html/unnamed-chunk-20-1.png){width=408}\n:::\n:::\n\n\n## Exercise 12: {.unnumbered} \n\n\n::: {.cell}\n\n```{.r .cell-code}\n# A stacked bar plot\n# How are the \"historical\" and \"winner_20\" variables mapped to the plot, i.e. what roles do they play?\nggplot(elections, aes(x = historical, fill = winner_20)) +\n  geom_bar()\n```\n\n::: {.cell-output-display}\n![](bivariate_viz_files/figure-html/unnamed-chunk-21-1.png){width=408}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# A faceted bar plot\nggplot(elections, aes(x = winner_20)) +\n  geom_bar() +\n  facet_wrap(~ historical)\n```\n\n::: {.cell-output-display}\n![](bivariate_viz_files/figure-html/unnamed-chunk-22-1.png){width=408}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# A side-by-side bar plot\n# Note the new argument to geom_bar\nggplot(elections, aes(x = historical, fill = winner_20)) +\n  geom_bar(position = \"dodge\")\n```\n\n::: {.cell-output-display}\n![](bivariate_viz_files/figure-html/unnamed-chunk-23-1.png){width=408}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# A proportional bar plot\n# Note the new argument to geom_bar\nggplot(elections, aes(x = historical, fill = winner_20)) +\n  geom_bar(position = \"fill\")\n```\n\n::: {.cell-output-display}\n![](bivariate_viz_files/figure-html/unnamed-chunk-24-1.png){width=408}\n:::\n:::\n\nPart a: An advantage to using a proportional bar chart is that it gives us a proportion of the numbers who voted democrat or republican within each historical category, instead of the raw number. A disadvantage to using a proportional bar chart is that you don't know the raw count of the people who voted democrat or republican within each category- we loose data, because we don't know which category voted most frequently, just the proportion with which they voted. \n\nPart b: I like side-by-side bar charts (the third graph) because it is easy to follow and understand, the categories are grouped together, and I can see the raw count of votes for each party. \n\n## Exercise 13: {.unnumbered} \n\n\n::: {.cell}\n\n```{.r .cell-code}\nweather <- read.csv(\"https://mac-stat.github.io/data/weather_3_locations.csv\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# How do 3pm temperatures (temp3pm) differ by location?\nggplot(weather, aes(x=location, y=temp3pm))+ \n  geom_boxplot()\n```\n\n::: {.cell-output-display}\n![](bivariate_viz_files/figure-html/unnamed-chunk-26-1.png){width=408}\n:::\n:::\n\nThe location variable is categorical: there are 3 categories. The temp3pm variable is quantitative. Hence, a boxplot or violin plot would be best at representing this data. \n\n\n::: {.cell}\n\n```{.r .cell-code}\n# How might we predict the 3pm temperature (temp3pm) by the 9am temperature (temp9am)?\nggplot(weather, aes(x=temp9am, y=temp3pm))+\n  geom_point()+\n  geom_smooth()\n```\n\n::: {.cell-output-display}\n![](bivariate_viz_files/figure-html/unnamed-chunk-27-1.png){width=408}\n:::\n:::\n\nBoth of these variables are quantitative, so a scatterplot would be best \n\n\n::: {.cell}\n\n```{.r .cell-code}\n# How do the number of rainy days (raintoday) differ by location?\nggplot(weather, aes(x=location, fill=raintoday))+ \n  geom_bar()\n```\n\n::: {.cell-output-display}\n![](bivariate_viz_files/figure-html/unnamed-chunk-28-1.png){width=408}\n:::\n:::\n\nBoth are categorical variables. \n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}